module.exports = {
  extends: [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended",
    "plugin:@typescript-eslint/recommended-requiring-type-checking",
    "prettier",
    "prettier/@typescript-eslint",
    "plugin:eslint-comments/recommended",
    "plugin:node/recommended",
    "plugin:jest/recommended",
    "plugin:jest/style",
    "plugin:import/errors",
    "plugin:import/warnings",
    "plugin:import/typescript",
    "plugin:unicorn/recommended",
    "plugin:promise/recommended",
  ],
  plugins: ["@typescript-eslint", "prettier", "jest", "import", "promise"],
  root: true,
  reportUnusedDisableDirectives: true,
  env: { node: true },
  settings: { node: { tryExtensions: [".js", ".ts", ".vue"] } },
  ignorePatterns: ["node_modules/", "build/", "lib/"],
  parserOptions: {
    parser: "@typescript-eslint/parser",
    ecmaVersion: 2020,
    sourceType: "module",
    ecmaFeatures: { jsx: true },
    createDefaultProgram: true,
    project: "./tsconfig.json",
    impliedStrict: true,
    warnOnUnsupportedTypeScriptVersion: false,
  },
  overrides: [
    {
      files: [
        "**/__tests__/*.{j,t}s?(x)",
        "**/tests/unit/**/*.spec.{j,t}s?(x)",
      ],
      env: { jest: true },
    },
  ],
  rules: {
    "import/default": "off",
    "import/no-namespace": "error",
    "no-console": "off",
    "no-debugger": "off",
    "eslint-comments/disable-enable-pair": ["error", { allowWholeFile: true }],
    "node/no-unsupported-features/es-syntax": [
      "error",
      { version: ">=15.3.0", ignores: ["modules", "dynamicImport"] },
    ],
    "node/no-unsupported-features/node-builtins": [
      "error",
      { version: ">=15.3.0", ignores: [] },
    ],
    "node/no-unsupported-features/es-builtins": [
      "error",
      { version: ">=15.3.0", ignores: [] },
    ],
    "node/no-missing-import": [
      "error",
      { tryExtensions: [".js", ".ts", ".d.ts"] },
    ],
    "array-callback-return": "error",
    "prefer-template": "warn",
    "prefer-promise-reject-errors": "error",
    "require-unicode-regexp": "error",
    yoda: "error",
    "prefer-spread": "error",
    "unicorn/filename-case": "off",
    "unicorn/no-object-as-default-parameter": "off",
    "unicorn/no-reduce": "off",
    "unicorn/no-process-exit": "off",
    "lines-between-class-members": [
      "error",
      "always",
      { exceptAfterSingleLine: true },
    ],
    // "promise/valid-params": "off",
    "prettier/prettier": "warn",
    "unicorn/prevent-abbreviations": "off",
    "unicorn/no-null": "off",
    "unicorn/explicit-length-check": "off",
    "unicorn/consistent-function-scoping": "off",
    "no-restricted-imports": [
      "error",
      {
        paths: [
          {
            name: "type-graphql",
            importNames: ["Arg", "Args", "Resolver", "Query"],
            message: "Please use the imports from '@nestjs/graphql' instead.",
          },
          {
            name: "lodash",
            importNames: ["default"],
            message:
              "Please use the seperate imports '@lodash/debounce' instead.",
          },
        ],
      },
    ],
    "@typescript-eslint/explicit-function-return-type": "off",
    "@typescript-eslint/explicit-module-boundary-types": "off",
    "@typescript-eslint/restrict-template-expressions": "off",
    "@typescript-eslint/no-unused-vars": ["warn", { argsIgnorePattern: "^_" }],
    "jest/expect-expect": [
      "warn",
      { assertFunctionNames: ["expect", "request.get.expect"] },
    ],
  },
}
